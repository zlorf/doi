(function(t){function e(e){for(var n,i,c=e[0],s=e[1],l=e[2],f=0,d=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);u&&u(e);while(d.length)d.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],n=!0,c=1;c<r.length;c++){var s=r[c];0!==o[s]&&(n=!1)}n&&(a.splice(e--,1),t=i(i.s=r[0]))}return t}var n={},o={index:0},a=[];function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=n,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/doi/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=s;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("cd49")},2395:function(t,e,r){},"7c55":function(t,e,r){"use strict";r("2395")},"8d91":function(t,e,r){},cd49:function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[t._v(" doi2better - easy transformation of DOI to many bibliography formats ")]),r("v-main",[r("Home")],1),r("v-footer",{attrs:{padless:""}},[r("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[r("a",{attrs:{id:"kofi",href:"https://ko-fi.com/zlorf",target:"_blank"}},[r("img",{attrs:{src:"https://cdn.ko-fi.com/cdn/kofi2.png?v=3",alt:"Buy Me a Coffee / Donate"}})])])],1)],1)},a=[],i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home"},[r("v-container",[r("v-row",{staticClass:"text-center"},[r("v-col",{staticClass:"mt-16",attrs:{cols:"12"}},[r("v-textarea",{attrs:{outlined:"","auto-grow":"",label:"Paste doi's here (one per line)"},model:{value:t.dois,callback:function(e){t.dois=e},expression:"dois"}}),r("v-combobox",{ref:"combo",attrs:{outlined:"",label:"Select format (or type your own)",items:t.formats},model:{value:t.format,callback:function(e){t.format=e},expression:"format"}}),r("v-btn",{attrs:{id:"convert",color:"primary",disabled:t.inProgress},on:{click:t.convert}},[t.inProgress?r("v-icon",[t._v("fas fa-spinner fa-spin")]):r("span",[t._v("Convert")])],1),t.error?r("v-alert",{staticClass:"mt-8",staticStyle:{"white-space":"pre"},attrs:{type:"error"}},[t._v(t._s(t.error))]):t._e(),t.result?r("div",{staticClass:"mt-8"},[r("v-textarea",{attrs:{filled:"","auto-grow":"",value:t.result}})],1):t._e()],1)],1)],1)],1)},c=[];r("d3b7"),r("d9e2"),r("4de4"),r("ac1f"),r("1276"),r("d81d"),r("820e"),r("3ca3"),r("ddb0"),r("a15b"),r("25f0");function s(t){return"fulfilled"===t.status}function l(t){return"rejected"===t.status}var u=n["a"].extend({name:"Home",data:function(){return{dois:"",result:"",format:"",error:null,inProgress:!1,formats:["apa","bibtex","mla","nature","science","turabian-fullnote-bibliography","vancouver"]}},methods:{convertOne:function(t,e){var r=this;return fetch("https://api.crossref.org/v1/works/".concat(encodeURIComponent(t),"/transform"),{headers:{Accept:e}}).then((function(e){return e.ok?e.text():e.text().then((function(e){return r.handleErrorMsg(t,e)})).then((function(t){return Promise.reject(new Error(t))}))}),(function(){return Promise.reject(new Error("Failed to fetch data. Might be caused by unknown format."))}))},handleErrorMsg:function(t,e){return"Resource not found."===e?"Invalid doi (".concat(t,")."):e},convert:function(){var t=this;this.$refs.combo.blur(),this.$nextTick((function(){t.error=null,t.result="";var e=t.dois.split(/\r*\n+/g).filter((function(t){return t}));if(e.length)if(t.format){t.inProgress=!0;var r="bibtex"===t.format?"application/x-bibtex":"text/x-bibliography; style=".concat(t.format),n=e.map((function(e){return t.convertOne(e,r)}));Promise.allSettled(n).then((function(e){t.error=e.filter(l).map((function(t){return t.reason.toString()})).join("\n"),t.result=e.filter(s).map((function(t){return t.value})).join("\n")}),(function(e){t.error=e.toString()})).finally((function(){t.inProgress=!1}))}else t.error="Choose format!";else t.error="Provide at least one doi!"}))}}}),f=u,d=(r("de16"),r("2877")),p=r("6544"),v=r.n(p),m=r("0798"),b=r("8336"),h=r("62ad"),g=r("2b5d"),y=r("a523"),x=r("132d"),w=r("0fd9"),_=r("a844"),P=Object(d["a"])(f,i,c,!1,null,null,null),j=P.exports;v()(P,{VAlert:m["a"],VBtn:b["a"],VCol:h["a"],VCombobox:g["a"],VContainer:y["a"],VIcon:x["a"],VRow:w["a"],VTextarea:_["a"]});var k=n["a"].extend({name:"App",components:{Home:j}}),O=k,C=(r("7c55"),r("7496")),V=r("40dc"),S=r("553a"),M=r("f6c4"),E=Object(d["a"])(O,o,a,!1,null,null,null),A=E.exports;v()(E,{VApp:C["a"],VAppBar:V["a"],VCol:h["a"],VFooter:S["a"],VMain:M["a"]});var T=r("f309");n["a"].use(T["a"]);var $=new T["a"]({icons:{iconfont:"fa"}});n["a"].config.productionTip=!1,new n["a"]({vuetify:$,render:function(t){return t(A)}}).$mount("#app")},de16:function(t,e,r){"use strict";r("8d91")}});
//# sourceMappingURL=index.bf1d6457.js.map